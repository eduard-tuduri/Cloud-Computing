{#
# Copyright 2015 Google Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#}

{% extends "base.html" %}

{% block content %}

    <h3>Movies</h3>
    <div>
        <a href="/movies/add" class="btn btn-success btn-sm" style="display: inline-block;">
            <i class="glyphicon glyphicon-plus"></i>
            Add movie
        </a>
        <a href="/filter/asc" class="btn btn-default btn-sm" style="display: inline-block;">
            Filter Ascending
        </a>
        <a href="/filter/desc" class="btn btn-default btn-sm" style="display: inline-block;">
            Filter Descending
        </a>
    </div>

    {% for movie in movies %}
        <div class="media">
            <a href="/movies/{{ movie.id }}">
                <div class="media-left">
                    {% if movie.imageUrl %}
                        <img src="{{ movie.imageUrl }}" width="200">
                    {% else %}
                        <img src="http://placekitten.com/g/128/192">
                    {% endif %}
                </div>
                <div class="media-body">
                    <h4>{{ movie.title }}</h4>
                </div>
            </a>
        </div>
    {% else %}
        <p>No movies found</p>
    {% endfor %}

    {% if next_page_token %}
        <nav>
            <ul class="pager">
                <li><a href="?page_token={{ next_page_token }}">More</a></li>
            </ul>
        </nav>
    {% endif %}

{% endblock %}
